use ttran244tadb;
create view vTaAssignedCourse as select First_Name, Last_Name, Course_Num, Term, Year from TA, Assigned_Course where TA.TA_User_Id = Assigned_Course.TA_User_Id;
select * from vTaAssignedCourse;
select * from Professor;
delete from Professor where First_Name = "Hanan";
select * from Professor;
update TA set Head_Supervisor_Id = NULL where Head_Supervisor_Id = "dvancise";
update Cosupervisor set Cosupervisor_Id = NULL where Cosupervisor_Id = "dvancise";
delete from Professor where First_Name = "Doug" and Last_Name = "Vancise";
select * from Professor;
delimiter //
create trigger ins_year before insert on Assigned_Course for each row 
begin
if new.Year < 2000 then
set new.Year = 2000;
elseif new.Year > 2029 then
set new.Year = 2029;
end if;
end;//
delimiter;
select * from Assigned_Course;
insert into Assigned_Course values("hsimpson", "CS1026", "Fall", 2020, 5);
select * from Assigned_Course;
insert into Assigned_Course values("hsimpson", "CS1026", "Fall", 1980, 5);
select * from Assigned_Course;
insert into Assigned_Course values("hsimpson", "CS1026", "Fall", 2045, 5);
select * from Assigned_Course;
delimiter //
create trigger upd_year before update on Assigned_Course for each row
begin
if new.Year < 2000 then
set new.Year = 2000;
elseif new.Year > 2029 then
set new.Year = 2029;
end if;
end;//
delimiter;
update Assigned_Course set Year = 2015 where Course_Num = "CS1026" and TA_User_Id = "hsimpson" and Year = 2020;
select * from Assigned_Course;
update Assigned_Course set Year = 1970 where Course_Num = "CS1026" and TA_User_Id = "hsimpson" and Year = 2015;
select * from Assigned_Course;
update Assigned_Course set Year = 2055 where Course_Num = "CS1026" and TA_User_Id = "hsimpson" and Year = 2000;
select * from Assigned_Course;




